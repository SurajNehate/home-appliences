<div class="container mt-3">
  <h2>Cart</h2>
  <div *ngIf="items().length === 0" class="alert alert-info">Your cart is empty.</div>
  <div *ngIf="items().length > 0">
    <table class="table table-bordered">
      <thead>
        <tr>
          <th>Product</th>
          <th>Price</th>
          <th>Qty</th>
          <th>Subtotal</th>
          <th></th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let it of items()">
          <td>
            <img [src]="it.imageUrl" width="60" class="mr-2"> {{it.name}}
          </td>
          <td>₹ {{it.price}}</td>
          <td>
            <input type="number" #q class="form-control form-control-sm" [value]="it.qty" min="1" (change)="updateQty(it.id, q.value)">
          </td>
          <td>₹ {{it.price * it.qty}}</td>
          <td>
            <button class="btn btn-sm btn-danger" (click)="remove(it.id)">Remove</button>
          </td>
        </tr>
      </tbody>
    </table>
    <div class="d-flex justify-content-between">
      <button class="btn btn-outline-secondary" (click)="clear()">Clear Cart</button>
      <div>
        <strong class="mr-3">Total: ₹ {{cart.total()}}</strong>
        <a routerLink="/checkout-guest" class="btn btn-primary">Checkout</a>
      </div>
    </div>
  </div>
</div>
